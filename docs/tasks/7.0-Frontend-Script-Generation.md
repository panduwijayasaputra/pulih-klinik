# Task 7.0: Frontend Script Generation

## Overview
Implement the complete script generation interface including 7-phase script display, PDF export, digital format, editing capabilities, and cultural notes integration.

## Relevant Files
- `frontend/src/app/(dashboard)/scripts/[id]/page.tsx` - Script preview page
- `frontend/src/app/(dashboard)/scripts/[id]/edit/page.tsx` - Script editing page
- `frontend/src/components/script/ScriptGenerator.tsx` - Main script generation component
- `frontend/src/components/script/PhaseScript.tsx` - Individual phase script component
- `frontend/src/components/script/ScriptEditor.tsx` - Script editing interface
- `frontend/src/components/script/PDFExporter.tsx` - PDF export functionality
- `frontend/src/components/script/DigitalScriptViewer.tsx` - Digital script viewer
- `frontend/src/components/script/CulturalNotes.tsx` - Cultural notes display
- `frontend/src/components/script/ScriptTiming.tsx` - Timing display component
- `frontend/src/components/script/ScriptHighlights.tsx` - Technique highlighting
- `frontend/src/types/script.ts` - Script type definitions
- `frontend/src/store/scripts.ts` - Script state management
- `frontend/src/components/script/ScriptGenerator.test.tsx` - Script generator tests
- `frontend/src/components/script/PDFExporter.test.tsx` - PDF exporter tests

## Tasks

- [ ] 7.1 Create script type definitions
  - Define SessionScript interface with 7 phases
  - Create PhaseScript interface
  - Define ScriptPhase enum (preparation, preinduction, etc.)
  - Create ScriptTiming interface
  - Define CulturalNotes type

- [ ] 7.2 Create script Zustand store
  - Implement script state management
  - Create script generation workflow
  - Setup script editing state
  - Implement script version control
  - Create script export functionality

- [ ] 7.3 Implement script generation page
  - Create script generation layout
  - Implement script generation loading states
  - Setup script generation error handling
  - Create script generation progress indicators
  - Implement script generation confirmation

- [ ] 7.4 Create 7-phase script display
  - Implement preparation phase display (5 minutes)
  - Create preinduction phase display (8 minutes)
  - Setup induction phase display (15 minutes)
  - Implement deepening phase display (10 minutes)
  - Create therapeutic phase display (20 minutes)
  - Setup ego-strengthening phase display (8 minutes)
  - Implement reorientation phase display (8 minutes)

- [ ] 7.5 Implement phase script components
  - Create PhaseScript component with timing display
  - Implement phase objectives display
  - Setup phase script content with formatting
  - Create phase checklist display
  - Implement phase technique highlights

- [ ] 7.6 Create script editing interface
  - Implement script content editing
  - Create phase-specific editing controls
  - Setup script validation during editing
  - Implement script change tracking
  - Create script edit history

- [ ] 7.7 Implement script timing display
  - Create timing boxes for manual tracking
  - Implement phase duration display
  - Setup total session time calculation
  - Create timing adjustment controls
  - Implement timing validation

- [ ] 7.8 Create technique highlighting system
  - Implement color-coded technique markers
  - Create technique instruction display
  - Setup technique navigation
  - Implement technique explanation tooltips
  - Create technique effectiveness indicators

- [ ] 7.9 Implement cultural notes display
  - Create cultural adaptation notes
  - Implement age-specific considerations
  - Setup gender-based adaptations
  - Create background-based notes
  - Implement cultural sensitivity indicators

- [ ] 7.10 Create PDF export functionality
  - Implement script to PDF conversion
  - Create professional PDF formatting
  - Setup PDF customization options
  - Implement PDF download functionality
  - Create PDF preview before download

- [ ] 7.11 Implement digital script viewer
  - Create digital script navigation
  - Implement script bookmarking
  - Setup script annotation system
  - Create script sharing capabilities
  - Implement script search functionality

- [ ] 7.12 Create script preview and editing
  - Implement script preview mode
  - Create script edit mode toggle
  - Setup script change confirmation
  - Implement script revert functionality
  - Create script comparison view

- [ ] 7.13 Implement script management
  - Create script version control
  - Implement script history tracking
  - Setup script approval workflow
  - Create script effectiveness rating
  - Implement script feedback collection

- [ ] 7.14 Create script export options
  - Implement multiple PDF formats
  - Create script summary export
  - Setup script data export
  - Implement script sharing functionality
  - Create script backup system

- [ ] 7.15 Setup script generation testing
  - Create script generation tests
  - Implement PDF export tests
  - Setup script editing tests
  - Create cultural notes tests
  - Implement script validation tests

## Notes
- Use mock script data initially to build UI without backend dependency
- Implement comprehensive script formatting and display
- Ensure all scripts are in formal Indonesian language
- Create intuitive editing interface for therapists
- Prepare for easy integration with backend script generation
- Implement proper loading states and error handling for script operations 